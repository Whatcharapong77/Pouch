# -*- coding: utf-8 -*-
"""‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ã‡∏≠‡∏á

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/19kr_WQTLyqApEyM3N45e3HHf8ajCbH48
"""

!pip install gradio
import gradio as gr

# üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ã‡∏≠‡∏á (‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°)
def calculate_pouches(repeat_length, total_meters, num_lenses):
    if repeat_length and total_meters and num_lenses:
        try:
            pouches = (total_meters * 1000 * num_lenses) / repeat_length
            pouches = int(pouches)  # ‡∏ï‡∏±‡∏î‡∏à‡∏∏‡∏î‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°
            return f"üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ã‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: {pouches:,} ‡∏ã‡∏≠‡∏á"  # ‡πÉ‡∏™‡πà‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
        except ZeroDivisionError:
            return "‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ 0 ‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
    return "‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á"

# üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡πà‡∏≤ (‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å)
def clear_inputs():
    return None, None, None, ""

# üîπ CSS ‡∏õ‡∏£‡∏±‡∏ö UI ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
css = """
#output_box {
    font-size: 22px !important;
    font-weight: bold;
    color: #007BFF;
}
"""

# üîπ ‡∏™‡∏£‡πâ‡∏≤‡∏á Web App
with gr.Blocks(css=css) as demo:
    gr.Markdown("# üè≠ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ã‡∏≠‡∏á")
    gr.Markdown("### üî¢ ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î 'üî• ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå")

    # ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    repeat_length = gr.Number(label="üìè ‡∏£‡∏∞‡∏¢‡∏∞ Repeat (‡∏°‡∏°.)", value=None)
    total_meters = gr.Number(label="üìè ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡∏ï‡∏£ (‡∏°.)", value=None)
    num_lenses = gr.Number(label="üî≤ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏•‡∏ô‡∏™‡πå", value=None)

    # ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡πà‡∏≤
    with gr.Row():
        calculate_button = gr.Button("üî• ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì")
        clear_button = gr.Button("‚ôªÔ∏è ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡πà‡∏≤")

    # ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    output_result = gr.Textbox(label="üìå ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå", lines=2, interactive=False, elem_id="output_box")

    # ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì"
    calculate_button.click(
        fn=calculate_pouches,
        inputs=[repeat_length, total_meters, num_lenses],
        outputs=output_result,
    )

    # ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡πà‡∏≤"
    clear_button.click(
        fn=clear_inputs,
        inputs=[],
        outputs=[repeat_length, total_meters, num_lenses, output_result],
    )

# üîπ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Web App
demo.launch(share=True)